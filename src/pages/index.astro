---
import Layout from '../layouts/Layout.astro';
import {SignIn, SignOut} from 'auth-astro/components'
import Google from "../components/icons/Google.astro"
import GitHub from "../components/icons/GitHub.astro"
import {getSession} from "auth-astro/server"
const session = await getSession(Astro.request)
---

<Layout title="Welcome to Astro.">
	{
		session ?(
			
			<>
			<p>Hola {session.user?.email}</p>
			<SignOut>Salir</SignOut>
		</>
		) : (	
		<>
		<div class="flex items-center justify-center h-screen bg-gray-200">
			<div class="flex w-full max-w-7xl ">
				<div class="w-1/2 h-full relative ">
					<video src="fondo1.mp4" class="w-full h-full object-cover rounded-l-lg" autoplay loop muted></video>
				</div>
				<div class="w-1/2 flex items-center justify-center p-8">
					<div class="w-full max-w-md p-8">
						<h1 class="text-2xl font-bold text-center align-center mb-4">Login</h1>
						<SignIn provider="google" class="w-full flex border border-gray-400 align-center justify-center p-2 gap-2 rounded hover:bg-gray-300 mb-4"><Google class="mr-3" /> Ingrese con Google</SingIn> 
						<SignIn provider="github" class="w-full flex border border-gray-400 align-center justify-center p-2 gap-2 rounded hover:bg-gray-300 mb-4"><GitHub class="mr-3" /> Ingrese con Github</SingIn> 
					</div>
				</div>
			</div>
		</div>
		</>
		)
	}
</Layout>

<style>
	
</style>
